<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Joan Llompart - Electrical Engineer Portfolio showcasing innovative projects and skills in hardware, software, and design">
    <title>Joan Llompart | Electrical Engineer Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/objects/Reflector.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/objects/Refractor.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --clr-start: #FF9A00;     /* sunrise orange */
            --clr-end: #FF5F6D;       /* warm pink-red */
            --clr-accent: #FFB347;    /* peach */
            --clr-bg: #331700;        /* very dark brown */
            --clr-bg-light: #4A2C17;  /* lighter brown */
            --clr-glass: rgba(255, 154, 0, 0.1);
        }

        body {
            overflow-x: hidden;
            background: linear-gradient(135deg, var(--clr-bg) 0%, var(--clr-bg-light) 100%);
            color: #f5f5f5;
            scrollbar-width: thin;
            scrollbar-color: rgba(255, 154, 0, 0.5) rgba(51, 23, 0, 0.8);
        }

        body::-webkit-scrollbar {
            width: 8px;
        }
        body::-webkit-scrollbar-track {
            background: rgba(51, 23, 0, 0.8);
        }
        body::-webkit-scrollbar-thumb {
            background-color: rgba(255, 154, 0, 0.5);
            border-radius: 10px;
            border: 2px solid rgba(51, 23, 0, 0.8);
        }

        /* Glassmorphism utility */
        .glass {
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(16px) saturate(180%);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
            border-radius: 12px;
        }

        .glass-warm {
            background: var(--clr-glass);
            border: 1px solid rgba(255, 179, 71, 0.3);
            backdrop-filter: blur(20px) saturate(200%);
            box-shadow: 0 8px 32px rgba(255, 154, 0, 0.15);
        }

        .floating {
            animation: floating 6s ease-in-out infinite;
        }

        @keyframes floating {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        .project-card {
            background: var(--clr-glass);
            border: 1px solid rgba(255, 179, 71, 0.3);
            backdrop-filter: blur(20px) saturate(200%);
            box-shadow: 0 8px 32px rgba(255, 154, 0, 0.15);
            border-radius: 12px;
            transition: all 0.3s ease;
            transform-style: preserve-3d;
        }

        .project-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 20px 40px rgba(255, 154, 0, 0.25);
            background: rgba(255, 179, 71, 0.2);
        }

        .text-gradient {
            background: linear-gradient(90deg, var(--clr-start), var(--clr-end));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .text-warm {
            color: var(--clr-accent);
        }

        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .skill-badge {
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(16px) saturate(180%);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
            border-radius: 12px;
        }

        .skill-badge:hover {
            transform: scale(1.1);
            background: var(--clr-glass);
        }

        /* Navigation with glassmorphism */
        nav {
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(16px) saturate(180%);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
        }

        /* Modal styles with glassmorphism */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(51, 23, 0, 0.85);
            z-index: 1000;
            overflow-y: auto;
            padding-top: 5vh;
            padding-bottom: 5vh;
            opacity: 0;
            transition: opacity 0.3s ease-out;
        }

        .modal-content {
            background: var(--clr-glass);
            border: 1px solid rgba(255, 179, 71, 0.3);
            backdrop-filter: blur(20px) saturate(200%);
            box-shadow: 0 8px 32px rgba(255, 154, 0, 0.15);
            border-radius: 12px;
            margin: 0 auto 5% auto;
            padding: 30px;
            max-width: 800px;
            width: 90%;
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 28px;
            cursor: pointer;
            color: var(--clr-end);
            transition: color 0.3s ease;
        }
        .close-modal:hover {
            color: var(--clr-accent);
        }

        /* Video background styling */
        #intro-video {
            filter: brightness(0.7) saturate(1.2) hue-rotate(10deg);
        }

        /* Mobile responsiveness for glassmorphism */
        @media (max-width: 768px) {
            .glass, .glass-warm {
                backdrop-filter: blur(12px) saturate(150%);
            }
        }

        /* Reduced motion preferences */
        @media (prefers-reduced-motion: reduce) {
            #intro-video {
                display: none;
            }
            #home {
                background: linear-gradient(135deg, var(--clr-start) 0%, var(--clr-end) 100%);
            }
        }

        /* Carousel styles */
        .carousel {
            position: relative;
            width: 100%;
            height: 400px;
            overflow: hidden;
            border-radius: 8px;
            margin-bottom: 20px;
            background-color: rgba(0,0,0,0.2);
        }

        .carousel-inner {
            display: flex;
            transition: transform 0.5s ease;
            height: 100%;
        }

        .carousel-item {
            min-width: 100%;
            height: 100%;
        }

        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .carousel-control {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: var(--clr-glass);
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 50%;
            z-index: 10;
            transition: background 0.3s ease;
            backdrop-filter: blur(10px);
        }
        .carousel-control:hover {
            background: rgba(255, 154, 0, 0.3);
        }

        .carousel-control.prev { left: 15px; }
        .carousel-control.next { right: 15px; }

        .carousel-indicators {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 10;
        }

        .carousel-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: background 0.3s;
        }

        .carousel-indicator.active {
            background: var(--clr-end);
        }

        /* Skills section styling */
        .skill-filter {
            transition: all 0.3s ease;
            border: 1px solid var(--clr-start);
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(16px) saturate(180%);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
            border-radius: 12px;
        }
        .skill-filter:hover {
            background-color: var(--clr-start);
            color: white;
        }
        .skill-filter.active {
            background-color: var(--clr-end);
            border-color: var(--clr-end);
            color: white;
        }

        .skill-item {
            transition: transform 0.3s ease, opacity 0.5s ease, box-shadow 0.3s ease;
            cursor: default;
        }

        .skill-item.hidden {
            opacity: 0 !important;
            transform: scale(0.8) !important;
            pointer-events: none;
            width: 0 !important;
            padding-left: 0 !important;
            padding-right: 0 !important;
            margin-left: -10px !important;
            overflow: hidden !important;
        }

        .click-hint i {
            background-color: var(--clr-glass);
            padding: 5px;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(255, 154, 0, 0.5);
            display: inline-block;
        }

        .click-hint.floating {
             animation: floatingHint 5s ease-in-out infinite;
        }

        @keyframes floatingHint {
            0% { transform: translateY(0px) scale(1); }
            50% { transform: translateY(-6px) scale(1.05); }
            100% { transform: translateY(0px) scale(1); }
        }

        /* Footer glassmorphism */
        footer {
            background: var(--clr-glass);
            border: 1px solid rgba(255, 179, 71, 0.3);
            backdrop-filter: blur(20px) saturate(200%);
            box-shadow: 0 8px 32px rgba(255, 154, 0, 0.15);
        }

    </style>
</head>
<body class="text-gray-100">
    <div id="canvas-container"></div>

    <nav class="fixed w-full z-50 shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <span class="text-xl font-bold text-gradient">J. LLOMPART</span>
                    </div>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#about" class="px-3 py-2 rounded-md text-sm font-medium hover:text-warm transition">About</a>
                        <a href="#projects" class="px-3 py-2 rounded-md text-sm font-medium hover:text-warm transition">Projects</a>
                        <a href="#skills" class="px-3 py-2 rounded-md text-sm font-medium hover:text-warm transition">Skills</a>
                        <a href="#contact" class="px-3 py-2 rounded-md text-sm font-medium hover:text-warm transition">Contact</a>
                    </div>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-gray-300 hover:text-white focus:outline-none focus:text-white">
                      <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                      </svg>
                    </button>
                 </div>
            </div>
        </div>
         <div id="mobile-menu" class="md:hidden hidden glass-warm">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#about" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-warm hover:bg-opacity-20">About</a>
                <a href="#projects" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-warm hover:bg-opacity-20">Projects</a>
                <a href="#skills" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-warm hover:bg-opacity-20">Skills</a>
                <a href="#contact" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-warm hover:bg-opacity-20">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Updated hero section with video background -->
    <section id="home" class="relative min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 pt-20 overflow-hidden">
        <!-- Looping video background -->
        <video id="intro-video" 
               src="assets/videos/gemini_generated_video_E4CFA12B.mp4" 
               autoplay muted loop playsinline
               class="absolute inset-0 w-full h-full object-cover brightness-75">
        </video>
        
        <!-- Glassmorphism overlay for better text readability -->
        <div class="absolute inset-0 glass-warm opacity-30"></div>
        
        <!-- Hero content on top of video -->
        <div class="relative z-10 text-center max-w-4xl mx-auto">
             <img src="docs/assets/img/Project photos/IMG_8352.jpeg" alt="Joan Llompart" class="w-48 h-48 md:w-60 md:h-60 rounded-full mx-auto mb-8 border-4 border-orange-400 shadow-lg floating glass" loading="lazy"/>
            <h1 class="text-5xl md:text-7xl font-bold mb-4 text-gradient">Joan Llompart</h1>
            <h2 class="text-2xl md:text-3xl mb-6 text-warm">Electrical Engineer</h2>
             <p class="text-lg md:text-xl mb-8 text-gray-200">Bridging hardware and software with innovative electrical engineering solutions.</p>
            <div class="flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4">
                <a href="#projects" class="px-8 py-3 glass-warm rounded-full font-medium hover:opacity-90 transition duration-300 text-warm">View Projects</a>
                <a href="#contact" class="px-8 py-3 border border-orange-400 rounded-full font-medium glass hover:bg-opacity-40 transition duration-300">Contact Me</a>
            </div>
            <div class="social-links flex justify-center gap-6 mt-10">
                <a href="https://linkedin.com/in/jllb" target="_blank" rel="noopener noreferrer" aria-label="View Joan Llompart's LinkedIn profile" class="text-gray-400 hover:text-warm transition duration-300 text-2xl glass p-3 rounded-full"><i class="fab fa-linkedin"></i></a>
                <a href="https://github.com/llompi" target="_blank" rel="noopener noreferrer" aria-label="Explore Joan Llompart's GitHub projects" class="text-gray-400 hover:text-warm transition duration-300 text-2xl glass p-3 rounded-full"><i class="fab fa-github"></i></a>
                </div>
        </div>
    </section>

    <section id="about" class="py-24 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
        <div class="flex flex-col md:flex-row items-center gap-12 md:gap-16">
            <div class="md:w-1/2 mb-10 md:mb-0 md:pr-10 text-center md:text-left">
                <h2 class="text-4xl font-bold mb-6 text-gradient">About Me</h2>
                <p class="text-lg mb-6 text-gray-300">I'm an electrical engineer with a passion for creating innovative solutions that bridge the gap between hardware and software. With experience in PCB design, IoT development, and product commercialization, I thrive on turning complex ideas into practical, user-friendly products.</p>
                <h3 class="text-2xl font-semibold mb-4 text-warm mt-8">Interests</h3>
                <p class="text-lg mb-6 text-gray-300"><i class="fas fa-running mr-1"></i> Running | <i class="fas fa-table-tennis ml-2 mr-1"></i> Racquetball | <i class="fas fa-walking ml-2 mr-1"></i> Walks with my wife and dogs | <i class="fas fa-code ml-2 mr-1"></i> Programming | <i class="fas fa-gamepad ml-2 mr-1"></i> Gaming</p>
                <h3 class="text-2xl font-semibold mb-4 text-warm mt-8">Languages</h3>
                <p class="text-lg mb-6 text-gray-300"><i class="fas fa-language mr-1"></i> English | Spanish | Catalan</p>

                <div class="flex justify-center md:justify-start space-x-8 mt-10">
                    <div class="text-center glass-warm p-4 rounded-lg">
                        <div class="text-3xl font-bold text-warm">10+</div>
                        <div class="text-gray-400">Projects</div>
                    </div>
                    <div class="text-center glass-warm p-4 rounded-lg">
                        <div class="text-3xl font-bold text-warm">4+</div>
                        <div class="text-gray-400">Years Experience</div>
                    </div>
                </div>
            </div>
            <div class="md:w-1/2 relative">
                 <div class="floating">
                    <div class="w-full h-80 md:h-96 glass-warm rounded-2xl shadow-2xl flex items-center justify-center p-8">
                         <div class="text-center">
                            <i class="fas fa-microchip text-7xl md:text-8xl text-warm mb-4 opacity-80"></i>
                            <h3 class="text-xl md:text-2xl font-bold text-gray-200">Hardware & Software Integration</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="projects" class="py-24 px-4 sm:px-6 lg:px-8 glass-warm bg-opacity-20">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-4xl font-bold mb-16 text-center text-gradient">Featured Projects</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                <div class="project-card relative rounded-xl p-6 floating" style="animation-delay: 0s;" onclick="openProjectModal('project1')">
                    <div class="h-48 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg mb-4 flex items-center justify-center overflow-hidden">
                         <img src="docs/assets/img/Project photos/RFAmp.jpg" alt="RF Amplifier Preview" class="w-full h-full object-cover">
                    </div>
                    <h3 class="text-xl md:text-2xl font-bold mb-2">RF Amplifier</h3>
                    <p class="text-gray-300 mb-4 text-sm md:text-base">High-fidelity RF amplifier for communication systems, involving circuit simulation and PCB design.</p>
                    <div class="flex flex-wrap gap-2 mt-auto">
                        <span class="skill-badge px-3 py-1 bg-red-800 bg-opacity-70 rounded-full text-xs md:text-sm">Hardware</span>
                        <span class="skill-badge px-3 py-1 bg-blue-800 bg-opacity-70 rounded-full text-xs md:text-sm">PCB Design</span>
                        <span class="skill-badge px-3 py-1 bg-yellow-800 bg-opacity-70 rounded-full text-xs md:text-sm">Simulation</span>
                    </div>
                    <div class="click-hint absolute top-3 right-3 text-warm text-lg opacity-0 transition-opacity duration-500 ease-out pointer-events-none floating" style="animation-delay: 0.2s;">
                        <i class="fas fa-search-plus shadow-lg"></i>
                    </div>
                </div>

                <div class="project-card relative rounded-xl p-6 floating" style="animation-delay: 0.3s;" onclick="openProjectModal('project2')">
                     <div class="h-48 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg mb-4 flex items-center justify-center overflow-hidden">
                        <img src="docs/assets/img/Project photos/RetropieFront.jpg" alt="Handheld Console Preview" class="w-full h-full object-cover">
                    </div>
                    <h3 class="text-xl md:text-2xl font-bold mb-2">Raspberry Pi Handheld Console</h3>
                    <p class="text-gray-300 mb-4 text-sm md:text-base">Custom-built handheld console using Raspberry Pi for retro gaming. Skills: embedded systems, circuit design, 3D printing.</p>
                     <div class="flex flex-wrap gap-2 mt-auto">
                        <span class="skill-badge px-3 py-1 bg-red-800 bg-opacity-70 rounded-full text-xs md:text-sm">Hardware</span>
                        <span class="skill-badge px-3 py-1 bg-cyan-800 bg-opacity-70 rounded-full text-xs md:text-sm">Software</span>
                        <span class="skill-badge px-3 py-1 bg-green-800 bg-opacity-70 rounded-full text-xs md:text-sm">Embedded Systems</span>
                        <span class="skill-badge px-3 py-1 bg-blue-800 bg-opacity-70 rounded-full text-xs md:text-sm">3D Printing</span>
                    </div>
                    <div class="click-hint absolute top-3 right-3 text-warm text-lg opacity-0 transition-opacity duration-500 ease-out pointer-events-none floating" style="animation-delay: 0.2s;">
                        <i class="fas fa-search-plus shadow-lg"></i>
                    </div>
                </div>

                <div class="project-card relative rounded-xl p-6 floating" style="animation-delay: 0.6s;" onclick="openProjectModal('project3')">
                     <div class="h-48 bg-gradient-to-r from-green-500 to-lime-500 rounded-lg mb-4 flex items-center justify-center overflow-hidden">
                        <img src="docs/assets/img/Project photos/dogTreatDispenser.png" alt="Dog Treat Dispenser Preview" class="w-full h-full object-contain p-4">
                    </div>
                    <h3 class="text-xl md:text-2xl font-bold mb-2">IoT Dog Treat Dispenser</h3>
                    <p class="text-gray-300 mb-4 text-sm md:text-base">Smart dispenser rewarding pets automatically or via remote control. Showcases IoT development and mechanical design.</p>
                    <div class="flex flex-wrap gap-2 mt-auto">
                        <span class="skill-badge px-3 py-1 bg-cyan-800 bg-opacity-70 rounded-full text-xs md:text-sm">IoT</span>
                        <span class="skill-badge px-3 py-1 bg-red-800 bg-opacity-70 rounded-full text-xs md:text-sm">Hardware</span>
                        <span class="skill-badge px-3 py-1 bg-blue-800 bg-opacity-70 rounded-full text-xs md:text-sm">Mechanical Design</span>
                    </div>
                    <div class="click-hint absolute top-3 right-3 text-warm text-lg opacity-0 transition-opacity duration-500 ease-out pointer-events-none floating" style="animation-delay: 0.2s;">
                        <i class="fas fa-search-plus shadow-lg"></i>
                    </div>
                 </div>
            </div>

            <div class="mt-20 mb-12 relative h-96 md:h-[500px] project-card p-1 rounded-2xl overflow-hidden">
                <div id="project-model-1" class="w-full h-full rounded-xl overflow-hidden bg-gradient-to-br from-orange-800 to-red-900"></div>
                <div class="absolute bottom-0 left-0 right-0 p-4 md:p-6 glass-warm">
                    <h3 class="text-lg md:text-xl font-bold">Interactive 3D Model: Robotic Arm</h3>
                    <p class="text-gray-300 text-sm md:text-base">Drag to rotate, scroll to zoom. Example assembly concept.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="skills" class="py-24 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
        <h2 class="text-4xl font-bold mb-12 text-center text-gradient">Skills & Programs</h2>

        <div id="skill-filters" class="flex flex-wrap justify-center gap-3 mb-10">
            <button class="skill-filter active px-4 py-2 rounded-full text-sm font-medium" data-filter="all">All</button>
            <button class="skill-filter px-4 py-2 rounded-full text-sm font-medium" data-filter="hardware">Hardware</button>
            <button class="skill-filter px-4 py-2 rounded-full text-sm font-medium" data-filter="software">Software</button>
            <button class="skill-filter px-4 py-2 rounded-full text-sm font-medium" data-filter="design">Design</button>
            <button class="skill-filter px-4 py-2 rounded-full text-sm font-medium" data-filter="engineering">Engineering</button>
        </div>

        <div class="skills-list flex flex-wrap justify-center gap-4">
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-red-500 text-white glass" data-category="hardware">PCB Design</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-red-500 text-white glass" data-category="hardware">Electric Motor Construction</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-cyan-600 text-white glass" data-category="software">Ansys</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-cyan-600 text-white glass" data-category="software">Fusion 360 (Eagle)</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-cyan-600 text-white glass" data-category="software">KiCAD</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-yellow-500 text-gray-900 glass" data-category="engineering">Electrical Systems Design</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-yellow-500 text-gray-900 glass" data-category="engineering">Prototype Creation</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-yellow-500 text-gray-900 glass" data-category="engineering">Quality Control</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-yellow-500 text-gray-900 glass" data-category="engineering">RF Simulations</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-cyan-600 text-white glass" data-category="software">IoT Development</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-cyan-600 text-white glass" data-category="software">Automation</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-blue-500 text-white glass" data-category="design">Mechanical Design</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-blue-500 text-white glass" data-category="design">CAD</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-blue-500 text-white glass" data-category="design">UI/UX Design</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-cyan-600 text-white glass" data-category="software">Figma</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-cyan-600 text-white glass" data-category="software">HTML</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-cyan-600 text-white glass" data-category="software">CSS</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-cyan-600 text-white glass" data-category="software">JavaScript</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-cyan-600 text-white glass" data-category="software">Expo Framework</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-cyan-600 text-white glass" data-category="software">AI Integration</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-yellow-500 text-gray-900 glass" data-category="engineering">Usability Testing</span>
            <span class="skill-item px-4 py-2 rounded-full text-sm font-semibold opacity-0 transform translate-y-5 bg-yellow-500 text-gray-900 glass" data-category="engineering">Product Commercialization</span>
        </div>
    </section>

    <section id="contact" class="py-24 px-4 sm:px-6 lg:px-8 glass-warm bg-opacity-20">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-4xl font-bold mb-16 text-center text-gradient">Get In Touch</h2>

            <div class="flex justify-center">
                <div class="w-full max-w-lg">
                    <div class="project-card rounded-xl p-8 h-full">
                        <h3 class="text-2xl font-bold mb-6">Contact Information</h3>

                        <div class="space-y-6">
                            <div class="flex items-start">
                                <div class="text-warm text-xl mt-1 mr-4 flex-shrink-0 w-6 text-center">
                                    <i class="fas fa-envelope"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium">Email</h4>
                                    <a href="mailto:Joan.llbab@gmail.com" class="text-gray-300 hover:text-warm transition break-all">Joan.llbab@gmail.com</a>
                                </div>
                            </div>

                             <div class="flex items-start">
                                <div class="text-warm text-xl mt-1 mr-4 flex-shrink-0 w-6 text-center">
                                    <i class="fas fa-phone-alt"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium">Phone</h4>
                                    <p class="text-gray-300">+1 (555) 123-4567</p>
                                </div>
                            </div>

                             <div class="flex items-start">
                                <div class="text-warm text-xl mt-1 mr-4 flex-shrink-0 w-6 text-center">
                                    <i class="fas fa-map-marker-alt"></i>
                                </div>
                                <div>
                                    <h4 class="font-medium">Location</h4>
                                    <p class="text-gray-300">Portland, OR</p>
                                </div>
                            </div>
                        </div>

                         <div class="mt-10">
                            <h4 class="font-medium mb-4">Connect with me</h4>
                            <div class="flex space-x-4">
                                <a href="https://linkedin.com/in/jllb" target="_blank" rel="noopener noreferrer" class="w-10 h-10 rounded-full glass flex items-center justify-center hover:glass-warm transition">
                                    <i class="fab fa-linkedin-in"></i>
                                </a>
                                <a href="https://github.com/llompi" target="_blank" rel="noopener noreferrer" class="w-10 h-10 rounded-full glass flex items-center justify-center hover:glass-warm transition">
                                     <i class="fab fa-github"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="py-10 px-4 sm:px-6 lg:px-8 mt-12">
        <div class="max-w-7xl mx-auto">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-6 md:mb-0 text-center md:text-left">
                    <span class="text-xl font-bold text-gradient">JOAN LLOMPART</span>
                     <p class="text-gray-400 mt-2 text-sm">Innovative electrical engineering solutions.</p>
                </div>

                <div class="flex space-x-6">
                     <a href="#" onclick="openModal('privacy'); return false;" class="text-gray-400 hover:text-warm transition text-sm">Privacy Policy</a>
                    <a href="#" onclick="openModal('terms'); return false;" class="text-gray-400 hover:text-warm transition text-sm">Terms of Service</a>
                    <a href="#" onclick="openModal('sitemap'); return false;" class="text-gray-400 hover:text-warm transition text-sm">Sitemap</a>
                </div>
            </div>

            <div class="mt-10 pt-6 border-t border-orange-800 text-center text-gray-500 text-sm">
                &copy; <span id="current-year">2025</span> Joan Llompart. All rights reserved.
            </div>
        </div>
    </footer>

    <!-- Project Modals with updated warm colors -->
    <div id="project1-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('project1')">&times;</span>
            <h2 class="text-3xl font-bold mb-6 text-gradient">RF Amplifier</h2>
            <div class="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item"><img src="docs/assets/img/Project photos/RFAmp.jpg" alt="RF Amplifier 1" loading="lazy"></div>
                    <div class="carousel-item"><img src="docs/assets/img/Project photos/RFAmpPCB.jpg" alt="RF Amplifier PCB" loading="lazy"></div>
                    <div class="carousel-item"><img src="docs/assets/img/Project photos/RFAmpProgress.jpg" alt="RF Amplifier Progress" loading="lazy"></div>
                    <div class="carousel-item"><img src="docs/assets/img/Project photos/RFAmpSetup.jpg" alt="RF Amplifier Setup" loading="lazy"></div>
                    <div class="carousel-item"><img src="docs/assets/img/Project photos/RFPCB.png" alt="RF PCB Layout" loading="lazy"></div>
                </div>
                <button class="carousel-control prev" onclick="prevSlide('project1')">&#10094;</button>
                <button class="carousel-control next" onclick="nextSlide('project1')">&#10095;</button>
                <div class="carousel-indicators">
                     <span class="carousel-indicator active" onclick="goToSlide('project1', 0)"></span>
                     <span class="carousel-indicator" onclick="goToSlide('project1', 1)"></span>
                     <span class="carousel-indicator" onclick="goToSlide('project1', 2)"></span>
                     <span class="carousel-indicator" onclick="goToSlide('project1', 3)"></span>
                     <span class="carousel-indicator" onclick="goToSlide('project1', 4)"></span>
                 </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
                <div>
                    <h3 class="text-xl font-bold mb-3 text-warm">Project Details</h3>
                    <p class="text-gray-300 text-sm">Designed and built a high-fidelity RF amplifier for communication systems. Focused on achieving specific gain and bandwidth targets while maintaining signal integrity. Involved schematic design, component selection, simulation, PCB layout following RF best practices, assembly, and testing.</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-3 text-warm">Technologies Used</h3>
                    <ul class="space-y-2 text-sm">
                        <li class="flex items-center"><span class="w-2 h-2 bg-orange-400 rounded-full mr-2"></span><span>Circuit Simulation (ADS/SPICE)</span></li>
                        <li class="flex items-center"><span class="w-2 h-2 bg-orange-400 rounded-full mr-2"></span><span>PCB Design (KiCAD/Fusion 360)</span></li>
                        <li class="flex items-center"><span class="w-2 h-2 bg-orange-400 rounded-full mr-2"></span><span>RF Test Equipment (VNA, SA)</span></li>
                        <li class="flex items-center"><span class="w-2 h-2 bg-orange-400 rounded-full mr-2"></span><span>Soldering (SMD & THT)</span></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-3 text-warm">Key Features</h3>
                    <ul class="space-y-2 text-sm">
                        <li class="flex items-center"><span class="w-2 h-2 bg-red-400 rounded-full mr-2"></span><span>Target Gain: X dB</span></li>
                        <li class="flex items-center"><span class="w-2 h-2 bg-red-400 rounded-full mr-2"></span><span>Bandwidth: Y MHz - Z MHz</span></li>
                        <li class="flex items-center"><span class="w-2 h-2 bg-red-400 rounded-full mr-2"></span><span>50 Ohm Impedance Matching</span></li>
                        <li class="flex items-center"><span class="w-2 h-2 bg-red-400 rounded-full mr-2"></span><span>Low Noise Figure (Optional)</span></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Additional modals and scripts with warm color updates -->
    <script>
        // --- Global Variables ---
        let scene, camera, renderer, controls;
        let backgroundModels = [];
        let reflectorObjects = [];

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            init3DBackgroundScene();
            initSmoothScrolling();
            initMobileMenu();
            initProjectModel1();
            setupSkillFiltering();
            observeSkillsSection();
            showAndHideHints();
            setCurrentYear();
        });

        function setCurrentYear() {
            const yearSpan = document.getElementById('current-year');
            if (yearSpan) {
                yearSpan.textContent = new Date().getFullYear();
            }
        }

        // --- 3D Background Scene with Warm Colors and Reflector Effects ---
        function init3DBackgroundScene() {
            const container = document.getElementById('canvas-container');
            if (!container) return;

            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x331700);
            scene.fog = new THREE.FogExp2(0x4A2C17, 0.002);

            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 25;

            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            container.appendChild(renderer.domElement);

            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableZoom = false;
            controls.enablePan = false;
            controls.enableDamping = true;
            controls.dampingFactor = 0.03;
            controls.autoRotate = true;
            controls.autoRotateSpeed = 0.2;

            // Warm lighting
            scene.add(new THREE.AmbientLight(0x331700, 0.4));
            const dirLight = new THREE.DirectionalLight(0xFF9A00, 0.8);
            dirLight.position.set(5, 5, 5);
            dirLight.castShadow = true;
            scene.add(dirLight);
            
            const pointLight1 = new THREE.PointLight(0xFF5F6D, 0.6, 80);
            pointLight1.position.set(-10, 10, 10);
            scene.add(pointLight1);
            
            const pointLight2 = new THREE.PointLight(0xFFB347, 0.6, 80);
            pointLight2.position.set(10, -10, -10);
            scene.add(pointLight2);

            createFloatingGeometries();
            createReflectiveElements();

            window.addEventListener('resize', onWindowResize);
            animateBackground();
        }

        function createFloatingGeometries() {
            const geometryTypes = [
                () => new THREE.IcosahedronGeometry(2.5, 0),
                () => new THREE.TorusKnotGeometry(2, 0.6, 100, 16),
                () => new THREE.OctahedronGeometry(2.5, 0),
                () => new THREE.TorusGeometry(2.5, 0.8, 16, 32),
                () => new THREE.DodecahedronGeometry(2.5, 0),
            ];
            
            const materials = [
                new THREE.MeshPhongMaterial({ 
                    color: 0xFF9A00, 
                    shininess: 100, 
                    specular: 0x444444, 
                    transparent: true, 
                    opacity: 0.7,
                    emissive: 0xFF4500,
                    emissiveIntensity: 0.1
                }),
                new THREE.MeshPhongMaterial({ 
                    color: 0xFF5F6D, 
                    shininess: 100, 
                    specular: 0x444444, 
                    transparent: true, 
                    opacity: 0.7,
                    emissive: 0xFF1744,
                    emissiveIntensity: 0.1
                }),
                new THREE.MeshPhongMaterial({ 
                    color: 0xFFB347, 
                    shininess: 80, 
                    specular: 0x333333, 
                    transparent: true, 
                    opacity: 0.6,
                    emissive: 0xFFAB40,
                    emissiveIntensity: 0.05
                }),
                new THREE.MeshStandardMaterial({ 
                    color: 0xFF8A65, 
                    roughness: 0.3, 
                    metalness: 0.2, 
                    transparent: true, 
                    opacity: 0.75,
                    emissive: 0xE64A19,
                    emissiveIntensity: 0.1
                })
            ];

            for (let i = 0; i < 8; i++) {
                const geometry = geometryTypes[i % geometryTypes.length]();
                const material = materials[i % materials.length].clone();
                const mesh = new THREE.Mesh(geometry, material);
                const range = 50;
                mesh.position.set(
                    (Math.random() - 0.5) * range, 
                    (Math.random() - 0.5) * range, 
                    (Math.random() - 0.5) * range
                );
                mesh.rotation.set(Math.random() * Math.PI, Math.random() * Math.PI, Math.random() * Math.PI);
                const scale = 0.6 + Math.random() * 0.6;
                mesh.scale.set(scale, scale, scale);
                mesh.castShadow = true;
                mesh.receiveShadow = true;
                mesh.userData = {
                    rotationSpeed: { 
                        x: (Math.random() - 0.5) * 0.008, 
                        y: (Math.random() - 0.5) * 0.008 
                    },
                    direction: new THREE.Vector3(
                        (Math.random()-0.5), 
                        (Math.random()-0.5), 
                        (Math.random()-0.5)
                    ).normalize(),
                    speed: 0.01 + Math.random() * 0.02,
                    pulsePhase: Math.random() * Math.PI * 2
                };
                scene.add(mesh);
                backgroundModels.push(mesh);
            }
        }

        function createReflectiveElements() {
            // Create reflective floor with fallback
            try {
                const floorGeometry = new THREE.PlaneGeometry(100, 100);
                if (THREE.Reflector) {
                    const floorMirror = new THREE.Reflector(floorGeometry, {
                        clipBias: 0.003,
                        textureWidth: window.innerWidth * window.devicePixelRatio,
                        textureHeight: window.innerHeight * window.devicePixelRatio,
                        color: 0x332211,
                        recursion: 1
                    });
                    floorMirror.position.y = -20;
                    floorMirror.rotateX(-Math.PI / 2);
                    scene.add(floorMirror);
                    reflectorObjects.push(floorMirror);
                } else {
                    throw new Error('Reflector not available');
                }
            } catch (error) {
                console.log('Reflector not available, using standard material');
                const floorGeometry = new THREE.PlaneGeometry(100, 100);
                const floorMaterial = new THREE.MeshLambertMaterial({ 
                    color: 0x4A2C17, 
                    transparent: true, 
                    opacity: 0.3 
                });
                const floor = new THREE.Mesh(floorGeometry, floorMaterial);
                floor.position.y = -20;
                floor.rotateX(-Math.PI / 2);
                scene.add(floor);
            }
        }

        function animateBackground() {
            requestAnimationFrame(animateBackground);
            
            const time = Date.now() * 0.001;
            
            backgroundModels.forEach((model, index) => {
                model.rotation.x += model.userData.rotationSpeed.x;
                model.rotation.y += model.userData.rotationSpeed.y;
                model.position.addScaledVector(model.userData.direction, model.userData.speed);
                
                // Add pulsing effect
                const pulse = Math.sin(time + model.userData.pulsePhase) * 0.1 + 0.9;
                model.material.opacity = pulse * 0.7;
                
                const boundary = 35;
                if (Math.abs(model.position.x) > boundary || Math.abs(model.position.y) > boundary || Math.abs(model.position.z) > boundary) {
                    if(Math.abs(model.position.x) > boundary) model.userData.direction.x *= -1;
                    if(Math.abs(model.position.y) > boundary) model.userData.direction.y *= -1;
                    if(Math.abs(model.position.z) > boundary) model.userData.direction.z *= -1;
                    model.position.clampScalar(-boundary + 1, boundary - 1);
                }
            });
            
            controls.update();
            renderer.render(scene, camera);
        }

        // Rest of JavaScript functions remain similar but with warm color updates
        function onWindowResize() {
            if (camera && renderer) {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            }
        }

        function initSmoothScrolling() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const hrefAttribute = this.getAttribute('href');
                    if (hrefAttribute && hrefAttribute.length > 1 && hrefAttribute.startsWith('#') && !this.onclick) {
                        const targetElement = document.querySelector(hrefAttribute);
                        if (targetElement) {
                            e.preventDefault();
                            targetElement.scrollIntoView({ behavior: 'smooth' });
                            const mobileMenu = document.getElementById('mobile-menu');
                            if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
                                mobileMenu.classList.add('hidden');
                            }
                        }
                    }
                });
            });
        }

        function initMobileMenu() {
            const menuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            if (menuButton && mobileMenu) {
                menuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
            }
        }

        // Modal functionality
        function openModal(modalId) {
            const modal = document.getElementById(modalId + '-modal');
            if (modal) {
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
                setTimeout(() => modal.classList.add('opacity-100'), 10);
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId + '-modal');
            if (modal) {
                modal.classList.remove('opacity-100');
                setTimeout(() => {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }, 300);
            }
        }

        function openProjectModal(projectId) {
            openModal(projectId);
            initCarousel(projectId);
        }

        function setupSkillFiltering() {
            const skillFilters = document.querySelectorAll('.skill-filter');
            const skillItems = document.querySelectorAll('.skills-list .skill-item');

            skillFilters.forEach(filter => {
                filter.addEventListener('click', () => {
                    const category = filter.getAttribute('data-filter');
                    skillFilters.forEach(f => f.classList.remove('active'));
                    filter.classList.add('active');

                    skillItems.forEach(item => {
                        const itemCategory = item.getAttribute('data-category');
                        const isTarget = category === 'all' || itemCategory === category;
                        const isVisible = !item.classList.contains('opacity-0');

                        if (isTarget && !isVisible) {
                            item.classList.remove('hidden', 'opacity-0', 'scale-80', 'w-0', 'p-0', '-ml-2');
                            item.classList.add('opacity-100', 'scale-100');
                        } else if (!isTarget && isVisible) {
                            item.classList.remove('opacity-100', 'scale-100');
                            item.classList.add('opacity-0', 'scale-80');
                            setTimeout(() => {
                                if (!item.classList.contains('opacity-100')) {
                                    item.classList.add('hidden', 'w-0', 'p-0', '-ml-2');
                                }
                            }, 300);
                        }
                    });
                });
            });
        }

        function observeSkillsSection() {
            const skillsSection = document.querySelector('#skills');
            const skillItems = document.querySelectorAll('.skills-list .skill-item');
            if (!skillsSection || skillItems.length === 0) return;

            const skillObserver = new IntersectionObserver((entries, observer) => {
                if (entries[0].isIntersecting) {
                    skillItems.forEach((item, index) => {
                        if(item.classList.contains('opacity-0')) {
                            setTimeout(() => {
                                item.style.transitionDelay = `${index * 50}ms`;
                                item.classList.remove('opacity-0', 'translate-y-5');
                                item.classList.add('opacity-100', 'translate-y-0');
                            }, 50);
                        }
                    });
                    observer.unobserve(skillsSection);
                }
            }, { threshold: 0.3 });
            skillObserver.observe(skillsSection);
        }

        function showAndHideHints() {
            const hints = document.querySelectorAll('.click-hint');
            if (hints.length > 0) {
                setTimeout(() => {
                    hints.forEach(hint => hint.classList.add('opacity-100'));
                }, 1500);
                setTimeout(() => {
                    hints.forEach(hint => hint.classList.remove('opacity-100'));
                }, 9000);
            }
        }

        // Project model initialization
        function initProjectModel1() {
            const container = document.getElementById('project-model-1');
            if (!container) return;

            const width = container.clientWidth;
            const height = container.clientHeight;
            if (width === 0 || height === 0) return;

            const project1Scene = new THREE.Scene();
            const project1Camera = new THREE.PerspectiveCamera(60, width / height, 0.1, 1000);
            project1Camera.position.set(0, 10, 20);

            const project1Renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            project1Renderer.setSize(width, height);
            container.appendChild(project1Renderer.domElement);

            // Add warm lighting for robotic arm
            project1Scene.add(new THREE.AmbientLight(0x4A2C17));
            const dirLight = new THREE.DirectionalLight(0xFF9A00, 0.8);
            dirLight.position.set(5, 10, 7);
            project1Scene.add(dirLight);

            // Create robotic arm with warm materials
            const baseMat = new THREE.MeshStandardMaterial({ color: 0x4A2C17, metalness: 0.6, roughness: 0.4 });
            const armMat = new THREE.MeshStandardMaterial({ color: 0xFF8A65, metalness: 0.5, roughness: 0.5 });
            
            const base = new THREE.Mesh(new THREE.CylinderGeometry(3, 3.5, 1.5, 32), baseMat);
            base.position.y = 0.75;
            project1Scene.add(base);

            const arm1 = new THREE.Mesh(new THREE.BoxGeometry(1.2, 6, 1.2), armMat);
            arm1.position.y = 4.5;
            project1Scene.add(arm1);

            const project1Controls = new THREE.OrbitControls(project1Camera, project1Renderer.domElement);
            project1Controls.target.set(0, 5, 0);
            project1Controls.update();

            function animate() {
                requestAnimationFrame(animate);
                project1Controls.update();
                project1Renderer.render(project1Scene, project1Camera);
            }
            animate();
        }
    </script>
</body>
</html>